name: "AWS SSM Run Command"
author: "Rahul Kumar <rahulcomp24@gmail.com>"

description: "Github Action for running commands on Linux or Windows machine managed using SSM"

branding:
  icon: "code"
  color: "orange"

inputs:
  aws-region:
    required: true
    description: "AWS Region"
  instance-ids:
    required: true
    description: "List of Instance IDs to execute command"
  commands:
    required: true
    description: "Commands to be executed on instance"
  os:
    required: false
    description: "(Optional) Operating system to run commands (windows or linux)"
    default: linux
  working-directory:
    required: false
    description: "(Optional) Working directory for command execution"
    default: ""
  comment:
    required: false
    description: "(Optional) Comment"
    default: "Executed by Github Actions Workflow #${{ github.run_id }}"

outputs:
  command-id:
    description: "Execution command ID generated by AWS send command API"

runs:
  using: "node16"
  main: "dist/index.js"
